<h1 class="uppercase">Todos los capitulos</h1>
<div
    id="episodes"
    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 2rem;"
>
</div>
<button id="loadMoreEpisodes" style="margin-top: 2rem;">Cargar mas</button>

<script is:inline>
    let page = 1;

    async function fetchEpisodes() {
        const response = await fetch(
            `https://thesimpsonsapi.com/api/episodes?page=${page}`,
        );
        const data = await response.json();
        const container = document.getElementById("episodes");

        data.results.slice(0, 4).forEach((episode) => {
            const div = document.createElement("div");
            div.style.border = "2px solid #fdd835";
            div.style.borderRadius = "10px";
            div.style.background = "#fff8e1";
            div.style.textAlign = "center";
            div.style.width = "200px";
            div.style.margin = "1rem";

            div.innerHTML = `
    <img src="https://cdn.thesimpsonsapi.com/200${episode.image_path}"
    alt="${episode.name}"
    style="width: 100%; border-radius: 10px;">
    `;

            container.appendChild(div);
        });
        document.getElementById("loadMoreEpisodes").disabled = !data.next;
    }

    document
        .getElementById("loadMoreEpisodes")
        .addEventListener("click", () => {
            page++;
            fetchEpisodes();
        });

    fetchEpisodes();
</script>
